{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport NavBar from './NavBar.vue';\nimport Swal from 'sweetalert2';\nexport default {\n  name: \"TablaClientes\",\n  components: {\n    NavBar\n  },\n  data() {\n    return {\n      cliente: {\n        dni: '',\n        alta: '',\n        apellidos: '',\n        nombre: '',\n        direccion: '',\n        email: '',\n        provincia: '',\n        municipio: '',\n        baja: ''\n      },\n      clientes: [],\n      provincias: [],\n      municipios: [],\n      errores: [],\n      isChecked: false\n    };\n  },\n  mounted() {\n    this.getClientes();\n    this.getProvincias();\n    this.getMunicipios();\n  },\n  computed: {\n    filtroClientes() {\n      if (this.isChecked) {\n        return this.clientes;\n      } else {\n        return this.clientes.filter(cliente => !cliente.baja);\n      }\n    },\n    municipiosFiltrados() {\n      if (!this.cliente.provincia || !this.cliente.provincia.id) return [];\n      return this.municipios.filter(municipio => municipio.id.startsWith(this.cliente.provincia.id));\n    }\n  },\n  methods: {\n    limpiarFormCli() {\n      return {};\n      t;\n    },\n    validarDNI(dni) {\n      if (dni === '') {\n        // Si el campo está vacío, no hace nada\n        return true;\n      }\n      dni = dni.toUpperCase(); // Convertir a mayúsculas\n      this.cliente.dni = dni;\n      // Comprobar el formato del DNI/NIE\n      const dniRegex = /^[XYZ0-9][0-9]{7}[A-Z]$/; // Formato 8 dígitos seguido de 1 letra\n\n      if (!dniRegex.test(dni)) {\n        this.mostrarAlerta('Error', 'El NIE/DNI con formato no válido.', 'error');\n        return false;\n      }\n\n      // Inicializar variables para el cálculo\n      let dniNum = dni.substring(0, 8); // Extraer los númerhttp://localhost:3000/provinciasos\n      const letra = dni.charAt(8); // Obtener la letra en la posición 8\n      // Identificación del NIE y sustitución\n      if (dniNum.charAt(0) === 'X') {\n        dniNum = dniNum.substring(1, 8);\n        dniNum = '0' + dniNum; // Sustituir X por 0\n      } else if (dniNum.charAt(0) === 'Y') {\n        dniNum = dniNum.substring(1, 8);\n        dniNum = '1' + dniNum; // Sustituir Y por 1\n      } else if (dni.charAt(0) === 'Z') {\n        dniNum = dniNum.substring(1, 8);\n        dniNum = '2' + dniNum; // Sustituir Z por 2\n      }\n\n      // Comprobar la letra esperada\n      const letras = 'TRWAGMYFPDXBNJZSQVHLCKE'; // Letras válidas para el DNI\n      const letraCalculada = letras[dniNum % 23]; // Calcular la letra esperada\n      if (letra !== letraCalculada) {\n        this.mostrarAlerta('Error', 'DNI/NIE Incorrecto.', 'error');\n        return false;\n      }\n      return true; // DNI/NIE válido\n    },\n    async getClientes() {\n      try {\n        const response = await fetch('http://localhost:3000/clientes');\n        if (!response.ok) {\n          throw new Error('Error en la solicitud:' + response.statusText);\n        }\n        this.clientes = (await response.json()).sort((a, b) => a.apellidos.localeCompare(b.apellidos) || a.nombre.localeCompare(b.nombre));\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async getProvincias() {\n      try {\n        const response = await fetch('http://localhost:3000/provincias');\n        if (!response.ok) {\n          throw new Error('Error en la solicitud:' + response.statusText);\n        }\n        this.provincias = await response.json();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async getMunicipios() {\n      try {\n        const response = await fetch('http://localhost:3000/municipios');\n        if (!response.ok) {\n          throw new Error('Error en la solicitud:' + response.statusText);\n        }\n        this.municipios = await response.json();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    mostrarAlerta(titulo, mensaje, icono) {\n      Swal.fire({\n        title: titulo,\n        text: mensaje,\n        icon: icono,\n        customClass: {\n          container: 'custom-alert-container',\n          popup: 'custom-alert-popup',\n          modal: 'custom-alert-modal'\n        }\n      });\n    },\n    async grabarcliente() {\n      // Verificar si los campos requeridos están llenos\n      if (this.cliente.dni && this.cliente.apellidos) {\n        try {\n          this.cliente.baja = '';\n          // Obtener los clientes existentes\n          const response = await fetch('http://localhost:3000/clientes');\n          if (!response.ok) {\n            throw new Error('Error al obtener los clientes: ' + response.statusText);\n          }\n          const clientesExistentes = await response.json();\n\n          // Verificar si el DNI ya está registrado\n          const clienteExistente = clientesExistentes.find(cliente => cliente.dni === this.cliente.dni);\n          if (clienteExistente) {\n            // Si el DNI ya existe, mostrar un mensaje de error\n            this.mostrarAlerta('Error', 'El DNI ya está registrado.', 'error');\n          } else {\n            // Si el DNI no existe, agregar el cliente a la base de datos\n            const crearResponse = await fetch('http://localhost:3000/clientes', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify(this.cliente)\n            });\n            if (!crearResponse.ok) {\n              throw new Error('Error al guardar el cliente: ' + crearResponse.statusText);\n            }\n            const nuevoCliente = await crearResponse.json();\n            this.clientes.push(nuevoCliente); // Agregar cliente al array local\n            this.mostrarAlerta('Aviso', 'Cliente Grabado', 'success');\n            this.getClientes();\n          }\n        } catch (error) {\n          console.error(error);\n          this.mostrarAlerta('Error', 'No se pudo grabar el cliente.', 'error');\n        }\n      } else {\n        this.mostrarAlerta('Error', 'Por favor, completa todos los campos requeridos.', 'error');\n      }\n    }\n  }\n};","map":{"version":3,"names":["NavBar","Swal","name","components","data","cliente","dni","alta","apellidos","nombre","direccion","email","provincia","municipio","baja","clientes","provincias","municipios","errores","isChecked","mounted","getClientes","getProvincias","getMunicipios","computed","filtroClientes","filter","municipiosFiltrados","id","startsWith","methods","limpiarFormCli","t","validarDNI","toUpperCase","dniRegex","test","mostrarAlerta","dniNum","substring","letra","charAt","letras","letraCalculada","response","fetch","ok","Error","statusText","json","sort","a","b","localeCompare","error","console","titulo","mensaje","icono","fire","title","text","icon","customClass","container","popup","modal","grabarcliente","clientesExistentes","clienteExistente","find","crearResponse","method","headers","body","JSON","stringify","nuevoCliente","push"],"sources":["/home/a23johanfav/apontejohan/src/components/TablaClientes.vue"],"sourcesContent":["<template>\n  <NavBar />\n  <div class=\"row\">\n    <h5 class=\"text-center front-weight-bold\">GESTIÓN CLIENTES</h5>\n  </div>\n  <br>\n  <div class=\"container-fluid border p-4\">\n    <form class=\"form-in-line\">\n      <div class=\"col-10 col-m-6 col-lg-8 mx-auto\">\n        <div class=\"input-group-text mb-3\">\n          <span class=\"input-group-text custom-span me-2\">DNI/NIE:</span>\n          <input type=\"text\" class=\"form-control sm w-25\" placeholder=\"DNI-NIE\" v-model=\"cliente.dni\"\n            @blur=\"validarDNI(this.cliente.dni)\">\n\n          <span class=\"input-group-text custom-span ms-auto me-2\">Fecha Alta:</span>\n          <input type=\"date\" class=\"form-control sm w-25\" placeholder=\"Fecha Alta\" v-model=\"cliente.alta\">\n          <button class=\"input-group-text custom-span m-2 bg-primary text-light\"><i\n              class=\"bi bi-calendar-week\"></i></button>\n        </div>\n        <div class=\"input-group-text mb-3\">\n          <span class=\"input-group-text custom-span me-2\">Apellidos: </span>\n          <input type=\"text\" class=\"form-control sm w-50\" placeholder=\"Apellidos\" v-model=\"cliente.apellidos\">\n          <span class=\"input-group-text custom-span ms-2 me-2\">Nombre: </span>\n          <input type=\"text\" class=\"form-control sm w-50\" placeholder=\"Nombre\" v-model=\"cliente.nombre\">\n        </div>\n        <div class=\"input-group-text mb-3\">\n          <span class=\"input-group-text custom-span me-2\">Dirección: </span>\n          <input type=\"text\" class=\"form-control sm w-50\" placeholder=\"Dirección\" v-model=\"cliente.direccion\">\n          <span class=\"input-group-text custom-span ms-2 me-2\">Email: </span>\n          <input type=\"email\" class=\"form-control sm w-50\" placeholder=\"Email\" v-model=\"cliente.email\">\n        </div>\n\n        <div class=\"input-group-text mb-3\">\n          <span class=\"input-group-text custom-span me-2\">Provincia: </span>\n          <select name=\"provincia\" class=\"form-control sm w-25\" v-model=\"cliente.provincia\">\n            <option value=\"\">Provincia</option>\n            <option v-for=\"provincia in provincias\" :key=\"provincia.id\" :value=\"provincia\">\n              {{ provincia.nm }}\n            </option>\n          </select>\n          <span class=\"input-group-text custom-span ms-2 me-2\">Municipio: </span>\n          <select name=\"municipio\" class=\"form-control sm w-75\" v-model=\"cliente.municipio\">\n            <option value=\"\">Municipio</option>\n            <option v-for=\"municipio in municipiosFiltrados\" :key=\"municipio.id\" :value=\"municipio\">\n              {{ municipio.nm }}\n            </option>\n          </select>\n\n          <input type=\"checkbox\" class=\"m-2\" name=\"historico\" id=\"\">\n          <label for=\"bg input-group-text custom-span ms-2 me-2\" @click.prevent=\"filtroClientes\">Histórico</label>\n        </div>\n      </div>\n      <button class=\"btn btn-primary m-1\" @click.prevent=\"grabarcliente\">Guardar</button>\n      <button class=\"btn btn-primary m-1\" @click.prevent=\"mostrarcliente\">Mostrar</button>\n      <button class=\"btn btn-primary m-1\" @click.prevent=\"eliminarcliente\">Eliminar</button>\n    </form>\n  </div>\n\n\n  <div>\n    <div class=\"container my-5\">\n      <h2 class=\"mb-4\">Lista de Datos</h2>\n      <div class=\"container my-2\">\n        <div class=\"table-responsive\">\n          <table class=\"table table-striped\">\n            <thead class=\"table-info rounded-header\">\n              <tr>\n                <th scope=\"col\" class=\"w-15 text-center\">DNI</th>\n                <th scope=\"col\" class=\"w-25\">Apellidos</th>\n                <th scope=\"col\" class=\"w-25\">Nombre</th>\n                <th scope=\"col\" class=\"w-20 text-center\">Email</th>\n                <th scope=\"col\" class=\"w-10 text-center\">Fecha Baja</th>\n                <th scope=\"col\" class=\"pale-yellow\">Editar</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"cliente in filtroClientes\" :key=\"cliente.id\">\n                <td class=\"align-middle\">{{ cliente.dni }}</td>\n                <td class=\"align-middle\">{{ cliente.apellidos }}</td>\n                <td class=\"align-middle\">{{ cliente.nombre }}</td>\n                <td class=\"align-middle\">{{ cliente.email }}</td>\n                <td class=\"align-middle\">{{ cliente.baja }}</td>\n                <td class=\"text-center align-middle pale-yellow\">\n                  <div>\n                    <button class=\"btn btn-warning m-2\" @click=\"seleccionaCliente(cliente)\">\n                      <i class=\"fas fa-pencil-alt\"></i>\n                    </button>\n                    <!--\n                    <button class=\"btn btn-danger m-2\" @click=\"deleteCliente(cliente.dni)\">\n                      <i class=\"bi bi-trash\"></i>\n                    </button>\n                    -->\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavBar from './NavBar.vue';\nimport Swal from 'sweetalert2';\n\nexport default {\n  name: \"TablaClientes\",\n  components: {\n    NavBar\n  },\n\n  data() {\n    return {\n\n      cliente: {\n        dni: '',\n        alta: '',\n        apellidos: '',\n        nombre: '',\n        direccion: '',\n        email: '',\n        provincia: '',\n        municipio: '',\n        baja: ''\n      },\n\n      clientes: [],\n      provincias: [],\n      municipios: [],\n      errores: [],\n      isChecked: false\n    };\n  },\n\n  mounted() {\n      this.getClientes();\n      this.getProvincias();\n      this.getMunicipios();\n  },\n\n\n  computed: {\n    filtroClientes() {\n      if (this.isChecked) {\n        return this.clientes;\n      } else {\n        return this.clientes.filter(cliente => !cliente.baja);\n      }\n    },\n    \n    municipiosFiltrados() {\n      if (!this.cliente.provincia || !this.cliente.provincia.id) return [];\n\n      return this.municipios.filter(municipio =>\n        municipio.id.startsWith(this.cliente.provincia.id)\n      )\n    },\n  },\n\n  methods: {\n\n    limpiarFormCli(){\n      return {\n        \n      }\n      t\n    },\n    validarDNI(dni) {\n      if (dni === '') {\n        // Si el campo está vacío, no hace nada\n        return true;\n      }\n      dni = dni.toUpperCase(); // Convertir a mayúsculas\n      this.cliente.dni = dni;\n      // Comprobar el formato del DNI/NIE\n      const dniRegex = /^[XYZ0-9][0-9]{7}[A-Z]$/; // Formato 8 dígitos seguido de 1 letra\n\n      if (!dniRegex.test(dni)) {\n        this.mostrarAlerta('Error', 'El NIE/DNI con formato no válido.', 'error');\n        return false;\n      }\n\n      // Inicializar variables para el cálculo\n      let dniNum = dni.substring(0, 8); // Extraer los númerhttp://localhost:3000/provinciasos\n      const letra = dni.charAt(8); // Obtener la letra en la posición 8\n      // Identificación del NIE y sustitución\n      if (dniNum.charAt(0) === 'X') {\n        dniNum = dniNum.substring(1, 8)\n        dniNum = '0' + dniNum; // Sustituir X por 0\n      } else if (dniNum.charAt(0) === 'Y') {\n        dniNum = dniNum.substring(1, 8)\n        dniNum = '1' + dniNum; // Sustituir Y por 1\n      } else if (dni.charAt(0) === 'Z') {\n        dniNum = dniNum.substring(1, 8)\n        dniNum = '2' + dniNum; // Sustituir Z por 2\n      }\n\n      // Comprobar la letra esperada\n      const letras = 'TRWAGMYFPDXBNJZSQVHLCKE'; // Letras válidas para el DNI\n      const letraCalculada = letras[dniNum % 23]; // Calcular la letra esperada\n      if (letra !== letraCalculada) {\n        this.mostrarAlerta('Error', 'DNI/NIE Incorrecto.', 'error');\n        return false;\n      }\n\n      return true; // DNI/NIE válido\n    \n    },\n\n  async getClientes(){\n      try{\n        const response = await fetch('http://localhost:3000/clientes');\n        if(!response.ok){\n          throw new Error('Error en la solicitud:' + response.statusText);\n        }\n        this.clientes = (await response.json()).sort((a,b)=> a.apellidos.localeCompare(b.apellidos) || a.nombre.localeCompare(b.nombre));\n      } catch(error){\n        console.error(error);\n      }\n    },\n\n  async getProvincias(){\n      try{\n        const response = await fetch('http://localhost:3000/provincias');\n        if(!response.ok){\n          throw new Error('Error en la solicitud:' + response.statusText);\n        }\n        this.provincias = await response.json();\n      } catch(error){\n        console.error(error);\n      }\n    },\n\n  async getMunicipios(){\n      try{\n        const response = await fetch('http://localhost:3000/municipios');\n        if(!response.ok){\n          throw new Error('Error en la solicitud:' + response.statusText);\n        }\n        this.municipios = await response.json();\n      } catch(error){\n        console.error(error);\n      }\n    },  \n\n    mostrarAlerta(titulo, mensaje, icono) {\n      Swal.fire({\n        title: titulo,\n        text: mensaje,\n        icon: icono,\n        customClass: {\n          container: 'custom-alert-container',\n          popup: 'custom-alert-popup',\n          modal: 'custom-alert-modal'\n        }\n      })\n    },\n\n    async grabarcliente() {\n    // Verificar si los campos requeridos están llenos\n      if (this.cliente.dni && this.cliente.apellidos) {\n        try {\n          this.cliente.baja=''\n          // Obtener los clientes existentes\n          const response = await fetch('http://localhost:3000/clientes');\n          if (!response.ok) {\n            throw new Error('Error al obtener los clientes: ' + response.statusText);\n          }\n\n      const clientesExistentes = await response.json();\n\n      // Verificar si el DNI ya está registrado\n      const clienteExistente = clientesExistentes.find(cliente => cliente.dni === this.cliente.dni);\n\n      if (clienteExistente) {\n        // Si el DNI ya existe, mostrar un mensaje de error\n        this.mostrarAlerta('Error', 'El DNI ya está registrado.', 'error');\n      } else {\n          // Si el DNI no existe, agregar el cliente a la base de datos\n          const crearResponse = await fetch('http://localhost:3000/clientes', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(this.cliente)\n          });\n\n          if (!crearResponse.ok) {\n            throw new Error('Error al guardar el cliente: ' + crearResponse.statusText);\n          }\n\n          const nuevoCliente = await crearResponse.json();\n          this.clientes.push(nuevoCliente); // Agregar cliente al array local\n          this.mostrarAlerta('Aviso', 'Cliente Grabado', 'success');\n          this.getClientes();\n        }\n      } catch (error) {\n        console.error(error);\n        this.mostrarAlerta('Error', 'No se pudo grabar el cliente.', 'error');\n        }\n      } else {\n      this.mostrarAlerta('Error', 'Por favor, completa todos los campos requeridos.', 'error');\n      }\n    },\n\n  },\n}\n\n</script>\n\n<style scoped></style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}