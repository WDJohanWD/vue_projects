{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, vModelRadio as _vModelRadio, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container-fluid border p-4\"\n};\nconst _hoisted_2 = {\n  class: \"form-in-line\"\n};\nconst _hoisted_3 = {\n  class: \"col-10 col-m-6 col-lg-6 mx-auto\"\n};\nconst _hoisted_4 = {\n  class: \"input-group-text mb-3\"\n};\nconst _hoisted_5 = {\n  class: \"input-group-text mb-3\"\n};\nconst _hoisted_6 = {\n  class: \"input-group-text mb-3\"\n};\nconst _hoisted_7 = [\"value\"];\nconst _hoisted_8 = {\n  class: \"m-auto\"\n};\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_cache[22] || (_cache[22] = _createElementVNode(\"div\", {\n    class: \"row\"\n  }, [_createElementVNode(\"h5\", {\n    class: \"text-center front-weight-bold\"\n  }, \"TRABAJA CON NOSOTROS\")], -1 /* HOISTED */)), _cache[23] || (_cache[23] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"form\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[11] || (_cache[11] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span me-2\"\n  }, \"Apellidos:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control sm w-50\",\n    required: \"\",\n    placeholder: \"Apellidos\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.candidato.apellidos = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.candidato.apellidos]]), _cache[12] || (_cache[12] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"Nombre:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control sm w-50\",\n    required: \"\",\n    placeholder: \"Nombre\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.candidato.nombre = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.candidato.nombre]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[13] || (_cache[13] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"Email: \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    class: \"form-control sm w-50\",\n    required: \"\",\n    placeholder: \"Email\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.candidato.email = $event),\n    onBlur: _cache[3] || (_cache[3] = $event => _ctx.validarEmail(this.candidato.email))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, _ctx.candidato.email]]), _cache[14] || (_cache[14] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"Móvil:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control sm w-25\",\n    type: \"text\",\n    required: \"\",\n    placeholder: \"Móvil\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.candidato.movil = $event),\n    onBlur: _cache[5] || (_cache[5] = $event => _ctx.validarTelefono(this.candidato.movil))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, _ctx.candidato.movil]])]), _createElementVNode(\"div\", _hoisted_6, [_cache[19] || (_cache[19] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"Departamentos\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    name: \"departamento\",\n    class: \"form-control sm w-25 ms-2\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => _ctx.candidato.departamento = $event)\n  }, [_cache[15] || (_cache[15] = _createElementVNode(\"option\", {\n    value: \"\",\n    disabled: \"\"\n  }, \"Departamentos\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.departamentos, departamento => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: departamento.id,\n      value: departamento\n    }, _toDisplayString(departamento.nm), 9 /* TEXT, PROPS */, _hoisted_7);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, _ctx.candidato.departamento]]), _cache[20] || (_cache[20] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"Modalidades \", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"mx-2\",\n    type: \"radio\",\n    name: \"modalidad\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => _ctx.candidato.modalidad = $event),\n    value: \"remoto\",\n    id: \"remoto\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, _ctx.candidato.modalidad]]), _cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    for: \"remoto\"\n  }, \"Remoto\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    class: \"mx-2\",\n    type: \"radio\",\n    name: \"modalidad\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => _ctx.candidato.modalidad = $event),\n    value: \"hibrido\",\n    id: \"hibrido\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, _ctx.candidato.modalidad]]), _cache[17] || (_cache[17] = _createElementVNode(\"label\", {\n    for: \"hibrido\"\n  }, \"Hibrido\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    class: \"mx-2\",\n    type: \"radio\",\n    name: \"modalidad\",\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => _ctx.candidato.modalidad = $event),\n    value: \"presencial\",\n    id: \"presencial\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, _ctx.candidato.modalidad]]), _cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    for: \"presencial\"\n  }, \"Presencial\", -1 /* HOISTED */))])]), _cache[21] || (_cache[21] = _createElementVNode(\"div\", {\n    class: \"input-group-text mb-3\"\n  }, [_createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"CV (PDF) \"), _createElementVNode(\"input\", {\n    type: \"file\",\n    class: \"form-control sm w-100\"\n  })], -1 /* HOISTED */))]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary m-1\",\n    onClick: _cache[10] || (_cache[10] = _withModifiers((...args) => _ctx.grabarCandidato && _ctx.grabarCandidato(...args), [\"prevent\"]))\n  }, \"Enviar\")])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","required","placeholder","_cache","$event","_ctx","candidato","apellidos","nombre","_hoisted_5","email","onBlur","validarEmail","movil","validarTelefono","_hoisted_6","name","departamento","value","disabled","_renderList","departamentos","key","id","nm","_hoisted_7","_hoisted_8","modalidad","for","onClick","_withModifiers","args","grabarCandidato"],"sources":["/home/a23johanfav/apontejohan/src/components/TablaEmpleo.vue"],"sourcesContent":["<template>\n  <div class=\"row\">\n    <h5 class=\"text-center front-weight-bold\">TRABAJA CON NOSOTROS</h5>\n  </div>\n  <br>\n  <div class=\"container-fluid border p-4\">\n    <form class=\"form-in-line\">\n      <div class=\"col-10 col-m-6 col-lg-6 mx-auto\">\n        <div class=\"input-group-text mb-3\">\n          <span class=\"input-group-text custom-span me-2\">Apellidos:</span>\n          <input type=\"text\" class=\"form-control sm w-50\" required placeholder=\"Apellidos\"\n            v-model=\"candidato.apellidos\">\n\n          <span class=\"input-group-text custom-span ms-2 me-2\">Nombre:</span>\n          <input type=\"text\" class=\"form-control sm w-50\" required placeholder=\"Nombre\" v-model=\"candidato.nombre\">\n        </div>\n        <div class=\"input-group-text mb-3\">\n          <span class=\"input-group-text custom-span ms-2 me-2\">Email: </span>\n          <input type=\"email\" class=\"form-control sm w-50\" required placeholder=\"Email\" v-model=\"candidato.email\"\n            @blur=\"validarEmail(this.candidato.email)\">\n\n          <span class=\"input-group-text custom-span ms-2 me-2\">Móvil:</span>\n          <input class=\"form-control sm w-25\" type=\"text\" required placeholder=\"Móvil\" v-model=\"candidato.movil\"\n            @blur=\"validarTelefono(this.candidato.movil)\">\n\n\n\n        </div>\n\n        <div class=\"input-group-text mb-3\">\n          <span class=\"input-group-text custom-span ms-2 me-2\">Departamentos</span>\n          <select name=\"departamento\" class=\"form-control sm w-25 ms-2\" v-model=\"candidato.departamento\">\n            <option value=\"\" disabled>Departamentos</option>\n            <option v-for=\"departamento in departamentos\" :key=\"departamento.id\" :value=\"departamento\">\n              {{ departamento.nm }}\n            </option>\n          </select>\n\n          <span class=\"input-group-text custom-span ms-2 me-2\">Modalidades </span>\n          <div class=\"m-auto\">\n            <input class=\"mx-2\" type=\"radio\" name=\"modalidad\" v-model=\"candidato.modalidad\"  value=\"remoto\" id=\"remoto\"><label for=\"remoto\">Remoto</label>\n          <input class=\"mx-2\" type=\"radio\" name=\"modalidad\" v-model=\"candidato.modalidad\" value=\"hibrido\" id=\"hibrido\"><label for=\"hibrido\">Hibrido</label>\n\n          <input class=\"mx-2\" type=\"radio\" name=\"modalidad\" v-model=\"candidato.modalidad\" value=\"presencial\" id=\"presencial\"><label for=\"presencial\">Presencial</label>\n\n          </div>\n          \n        </div>\n        <div class=\"input-group-text mb-3\">\n\n          <span class=\"input-group-text custom-span ms-2 me-2\">CV (PDF) </span>\n          <input type=\"file\" class=\"form-control sm w-100\">\n        </div>\n      </div>\n      <button class=\"btn btn-primary m-1\" @click.prevent=\"grabarCandidato\">Enviar</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Swal from 'sweetalert2';\n\nexport default {\n  name: \"TablaEmpleo\",\n  components: {\n  },\n\n  data() {\n    return {\n      candidato: {\n        apellidos: '',\n        nombre: '',\n        email: '',\n        movil: '',\n        departamento: '',\n        modalidad:''\n      },\n      candidatos:[]\n      departamentos: [],\n      categorias: []\n    }\n  },\n\n  mounted() {\n    this.getDepartamentos();\n  },\n\n  methods: {\n    validarTelefono(telefono) {\n      if (telefono == '') {\n        this.mostrarAlerta('Error', 'El teléfono con formato no valido', 'error');\n      }\n      const regex = /^[67]\\d{8}$/;\n      if (!regex.test(telefono)) {\n        this.mostrarAlerta('Error', 'El teléfono con formato no valido', 'error')\n      }\n    },\n\n    validarEmail(email) {\n      if (email == '') {\n        this.mostrarAlerta('Error', 'El email con formato no valido', 'error');\n      }\n      const regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n      if (!regex.test(email)) {\n        this.mostrarAlerta('Error', 'El email con formato no valido', 'error')\n      }\n    },\n\n    mostrarAlerta(titulo, mensaje, icono) {\n      Swal.fire({\n        title: titulo,\n        text: mensaje,\n        icon: icono,\n        customClass: {\n          container: 'custom-alert-container',\n          popup: 'custom-alert-popup',\n          modal: 'custom-alert-modal'\n        }\n      })\n    },\n\n\n    async grabarCandidato() {\n      // Verificar si los campos requeridos están llenos\n      if (this.candidato.apellidos && this.candidato.nombre && this.candidato.email && this.candidato.movil && this.candidato.apellidos && this.candidato.nombre) {\n        try {\n          \n\n          const crearResponse = await fetch('http://localhost:3000/candidatos', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(this.candidato),\n          });\n\n          if (!crearResponse.ok) {\n            throw new Error('Error al guardar el candidato ' + crearResponse.statusText);\n          }\n\n          const nuevoCandidato = await crearResponse.json();\n          this.candidatos.push(nuevoCandidato);\n          this.mostrarAlerta('Aviso', 'Candidato grabado correctamente', 'success');\n        } catch (error) {\n          console.error(error);\n          this.mostrarAlerta('Error', 'No se pudo grabar el candidato.', 'error');\n        }\n      } else {\n        this.mostrarAlerta('Error', 'Por favor, completa todos los campos requeridos.', 'error');\n      }\n    },\n\n    async getDepartamentos() {\n      try {\n        const response = await fetch('http://localhost:3000/departamentos');\n        if (!response.ok) {\n          throw new Error('Error en la solicitud:' + response.statusText);\n        }\n        this.departamentos = await response.json();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n  }\n}\n</script>\n\n<style></style>"],"mappings":";;EAKOA,KAAK,EAAC;AAA4B;;EAC/BA,KAAK,EAAC;AAAc;;EACnBA,KAAK,EAAC;AAAiC;;EACrCA,KAAK,EAAC;AAAuB;;EAQ7BA,KAAK,EAAC;AAAuB;;EAa7BA,KAAK,EAAC;AAAuB;mBA7B1C;;EAuCeA,KAAK,EAAC;AAAQ;;uBAvC7BC,mBAAA,CAAAC,SAAA,S,4BACEC,mBAAA,CAEM;IAFDH,KAAK,EAAC;EAAK,IACdG,mBAAA,CAAmE;IAA/DH,KAAK,EAAC;EAA+B,GAAC,sBAAoB,E,kDAEhEG,mBAAA,CAAI,sCACJA,mBAAA,CAmDM,OAnDNC,UAmDM,GAlDJD,mBAAA,CAiDO,QAjDPE,UAiDO,GAhDLF,mBAAA,CA8CM,OA9CNG,UA8CM,GA7CJH,mBAAA,CAOM,OAPNI,UAOM,G,4BANJJ,mBAAA,CAAiE;IAA3DH,KAAK,EAAC;EAAmC,GAAC,YAAU,sB,gBAC1DG,mBAAA,CACgC;IADzBK,IAAI,EAAC,MAAM;IAACR,KAAK,EAAC,sBAAsB;IAACS,QAAQ,EAAR,EAAQ;IAACC,WAAW,EAAC,WAAW;IAV1F,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAWqBC,IAAA,CAAAC,SAAS,CAACC,SAAS,GAAAH,MAAA;iDAAnBC,IAAA,CAAAC,SAAS,CAACC,SAAS,E,+BAE9BZ,mBAAA,CAAmE;IAA7DH,KAAK,EAAC;EAAwC,GAAC,SAAO,sB,gBAC5DG,mBAAA,CAAyG;IAAlGK,IAAI,EAAC,MAAM;IAACR,KAAK,EAAC,sBAAsB;IAACS,QAAQ,EAAR,EAAQ;IAACC,WAAW,EAAC,QAAQ;IAdvF,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAciGC,IAAA,CAAAC,SAAS,CAACE,MAAM,GAAAJ,MAAA;iDAAhBC,IAAA,CAAAC,SAAS,CAACE,MAAM,E,KAEzGb,mBAAA,CAWM,OAXNc,UAWM,G,4BAVJd,mBAAA,CAAmE;IAA7DH,KAAK,EAAC;EAAwC,GAAC,SAAO,sB,gBAC5DG,mBAAA,CAC6C;IADtCK,IAAI,EAAC,OAAO;IAACR,KAAK,EAAC,sBAAsB;IAACS,QAAQ,EAAR,EAAQ;IAACC,WAAW,EAAC,OAAO;IAlBvF,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAkBiGC,IAAA,CAAAC,SAAS,CAACI,KAAK,GAAAN,MAAA;IACnGO,MAAI,EAAAR,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAO,YAAY,MAAMN,SAAS,CAACI,KAAK;iEAD6CL,IAAA,CAAAC,SAAS,CAACI,KAAK,E,+BAGtGf,mBAAA,CAAkE;IAA5DH,KAAK,EAAC;EAAwC,GAAC,QAAM,sB,gBAC3DG,mBAAA,CACgD;IADzCH,KAAK,EAAC,sBAAsB;IAACQ,IAAI,EAAC,MAAM;IAACC,QAAQ,EAAR,EAAQ;IAACC,WAAW,EAAC,OAAO;IAtBtF,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAsBgGC,IAAA,CAAAC,SAAS,CAACO,KAAK,GAAAT,MAAA;IAClGO,MAAI,EAAAR,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAS,eAAe,MAAMR,SAAS,CAACO,KAAK;iEADyCR,IAAA,CAAAC,SAAS,CAACO,KAAK,E,KAOvGlB,mBAAA,CAkBM,OAlBNoB,UAkBM,G,4BAjBJpB,mBAAA,CAAyE;IAAnEH,KAAK,EAAC;EAAwC,GAAC,eAAa,sB,gBAClEG,mBAAA,CAKS;IALDqB,IAAI,EAAC,cAAc;IAACxB,KAAK,EAAC,2BAA2B;IA/BvE,uBAAAW,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA+BiFC,IAAA,CAAAC,SAAS,CAACW,YAAY,GAAAb,MAAA;kCAC3FT,mBAAA,CAAgD;IAAxCuB,KAAK,EAAC,EAAE;IAACC,QAAQ,EAAR;KAAS,eAAa,uB,kBACvC1B,mBAAA,CAESC,SAAA,QAnCrB0B,WAAA,CAiC2Cf,IAAA,CAAAgB,aAAa,EAA7BJ,YAAY;yBAA3BxB,mBAAA,CAES;MAFsC6B,GAAG,EAAEL,YAAY,CAACM,EAAE;MAAGL,KAAK,EAAED;wBACxEA,YAAY,CAACO,EAAE,wBAlChCC,UAAA;2EA+BiFpB,IAAA,CAAAC,SAAS,CAACW,YAAY,E,+BAO7FtB,mBAAA,CAAwE;IAAlEH,KAAK,EAAC;EAAwC,GAAC,cAAY,sBACjEG,mBAAA,CAMM,OANN+B,UAMM,G,gBALJ/B,mBAAA,CAA4G;IAArGH,KAAK,EAAC,MAAM;IAACQ,IAAI,EAAC,OAAO;IAACgB,IAAI,EAAC,WAAW;IAxC7D,uBAAAb,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAwCuEC,IAAA,CAAAC,SAAS,CAACqB,SAAS,GAAAvB,MAAA;IAAGc,KAAK,EAAC,QAAQ;IAACK,EAAE,EAAC;kDAAxClB,IAAA,CAAAC,SAAS,CAACqB,SAAS,E,+BAA8BhC,mBAAA,CAAkC;IAA3BiC,GAAG,EAAC;EAAQ,GAAC,QAAM,sB,gBACxIjC,mBAAA,CAA6G;IAAtGH,KAAK,EAAC,MAAM;IAACQ,IAAI,EAAC,OAAO;IAACgB,IAAI,EAAC,WAAW;IAzC3D,uBAAAb,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAyCqEC,IAAA,CAAAC,SAAS,CAACqB,SAAS,GAAAvB,MAAA;IAAEc,KAAK,EAAC,SAAS;IAACK,EAAE,EAAC;kDAAxClB,IAAA,CAAAC,SAAS,CAACqB,SAAS,E,+BAA+BhC,mBAAA,CAAoC;IAA7BiC,GAAG,EAAC;EAAS,GAAC,SAAO,sB,gBAEzIjC,mBAAA,CAAmH;IAA5GH,KAAK,EAAC,MAAM;IAACQ,IAAI,EAAC,OAAO;IAACgB,IAAI,EAAC,WAAW;IA3C3D,uBAAAb,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA2CqEC,IAAA,CAAAC,SAAS,CAACqB,SAAS,GAAAvB,MAAA;IAAEc,KAAK,EAAC,YAAY;IAACK,EAAE,EAAC;kDAA3ClB,IAAA,CAAAC,SAAS,CAACqB,SAAS,E,+BAAqChC,mBAAA,CAA0C;IAAnCiC,GAAG,EAAC;EAAY,GAAC,YAAU,qB,iCAKvJjC,mBAAA,CAIM;IAJDH,KAAK,EAAC;EAAuB,IAEhCG,mBAAA,CAAqE;IAA/DH,KAAK,EAAC;EAAwC,GAAC,WAAS,GAC9DG,mBAAA,CAAiD;IAA1CK,IAAI,EAAC,MAAM;IAACR,KAAK,EAAC;6BAG7BG,mBAAA,CAAoF;IAA5EH,KAAK,EAAC,qBAAqB;IAAEqC,OAAK,EAAA1B,MAAA,SAAAA,MAAA,OAtDhD2B,cAAA,KAAAC,IAAA,KAsD0D1B,IAAA,CAAA2B,eAAA,IAAA3B,IAAA,CAAA2B,eAAA,IAAAD,IAAA,CAAe;KAAE,QAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}