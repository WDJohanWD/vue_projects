{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, vModelRadio as _vModelRadio, vModelCheckbox as _vModelCheckbox, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row\"\n};\nconst _hoisted_2 = {\n  class: \"mt-3 text-center front-weight-bold\"\n};\nconst _hoisted_3 = {\n  class: \"container-fluid border p-4\"\n};\nconst _hoisted_4 = {\n  class: \"form-in-line\"\n};\nconst _hoisted_5 = {\n  class: \"col-10 col-m-6 col-lg-6 mx-auto\"\n};\nconst _hoisted_6 = {\n  class: \"input-group-text mb-3\"\n};\nconst _hoisted_7 = {\n  class: \"input-group-text mb-3\"\n};\nconst _hoisted_8 = [\"disabled\"];\nconst _hoisted_9 = {\n  class: \"input-group-text mb-3\"\n};\nconst _hoisted_10 = [\"value\"];\nconst _hoisted_11 = {\n  class: \"m-auto\"\n};\nconst _hoisted_12 = {\n  class: \"input-group-text mb-3\"\n};\nconst _hoisted_13 = [\"disabled\"];\nconst _hoisted_14 = {\n  class: \"container my-5\"\n};\nconst _hoisted_15 = {\n  class: \"container my-2\"\n};\nconst _hoisted_16 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_17 = {\n  class: \"table table-striped\"\n};\nconst _hoisted_18 = {\n  class: \"align-middle\"\n};\nconst _hoisted_19 = {\n  class: \"align-middle\"\n};\nconst _hoisted_20 = {\n  class: \"align-middle\"\n};\nconst _hoisted_21 = {\n  class: \"align-middle\"\n};\nconst _hoisted_22 = {\n  class: \"align-middle\"\n};\nconst _hoisted_23 = {\n  class: \"text-center align-middle pale-yellow table-warning\"\n};\nconst _hoisted_24 = [\"onClick\"];\nconst _hoisted_25 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"h4\", _hoisted_2, [_cache[15] || (_cache[15] = _createElementVNode(\"i\", {\n    class: \"bi bi-people\"\n  }, null, -1 /* HOISTED */)), _cache[16] || (_cache[16] = _createTextVNode(\"TRABAJA CON NOSOTROS \")), _createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[14] || (_cache[14] = [_createElementVNode(\"button\", {\n      class: \"btn btn-customb\"\n    }, [_createElementVNode(\"i\", {\n      class: \"bi bi-arrow-return-left\"\n    })], -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  })])]), _cache[35] || (_cache[35] = _createElementVNode(\"br\", null, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_cache[17] || (_cache[17] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span me-2\"\n  }, \"Apellidos:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control sm w-50\",\n    required: \"\",\n    placeholder: \"Apellidos\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.candidato.apellidos = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.candidato.apellidos]]), _cache[18] || (_cache[18] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"Nombre:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control sm w-50\",\n    required: \"\",\n    placeholder: \"Nombre\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.candidato.nombre = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.candidato.nombre]])]), _createElementVNode(\"div\", _hoisted_7, [_cache[19] || (_cache[19] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"Email: \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    class: \"form-control sm w-50\",\n    required: \"\",\n    placeholder: \"Email\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.candidato.email = $event),\n    onBlur: _cache[3] || (_cache[3] = $event => $options.validarEmail(this.candidato.email))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.candidato.email]]), _cache[20] || (_cache[20] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"Móvil:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    class: \"form-control sm w-25\",\n    type: \"text\",\n    required: \"\",\n    placeholder: \"Móvil\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.candidato.movil = $event),\n    onBlur: _cache[5] || (_cache[5] = $event => $options.validarTelefono(this.candidato.movil)),\n    disabled: $data.editMovil\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_8), [[_vModelText, $data.candidato.movil]])]), _createElementVNode(\"div\", _hoisted_9, [_cache[25] || (_cache[25] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"Departamentos\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    name: \"departamento\",\n    class: \"form-control sm w-25 ms-2\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.candidato.departamento = $event),\n    required: \"\"\n  }, [_cache[21] || (_cache[21] = _createElementVNode(\"option\", {\n    value: \"\",\n    disabled: \"\"\n  }, \"Departamentos\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.departamentos, departamento => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: departamento.id,\n      value: departamento\n    }, _toDisplayString(departamento.nm), 9 /* TEXT, PROPS */, _hoisted_10);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.candidato.departamento]]), _cache[26] || (_cache[26] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"Modalidades \", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"mx-2\",\n    type: \"radio\",\n    name: \"modalidad\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.candidato.modalidad = $event),\n    value: \"remoto\",\n    id: \"remoto\",\n    checked: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.candidato.modalidad]]), _cache[22] || (_cache[22] = _createElementVNode(\"label\", {\n    for: \"remoto\"\n  }, \"Remoto\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    class: \"mx-2\",\n    type: \"radio\",\n    name: \"modalidad\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.candidato.modalidad = $event),\n    value: \"hibrido\",\n    id: \"hibrido\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.candidato.modalidad]]), _cache[23] || (_cache[23] = _createElementVNode(\"label\", {\n    for: \"hibrido\"\n  }, \"Hibrido\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    class: \"mx-2\",\n    type: \"radio\",\n    name: \"modalidad\",\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.candidato.modalidad = $event),\n    value: \"presencial\",\n    id: \"presencial\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.candidato.modalidad]]), _cache[24] || (_cache[24] = _createElementVNode(\"label\", {\n    for: \"presencial\"\n  }, \"Presencial\", -1 /* HOISTED */))])]), _createElementVNode(\"div\", _hoisted_12, [_cache[27] || (_cache[27] = _createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\",\n    for: \"comentario\"\n  }, \"Comentario: \", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    placeholder: \"Comentarios (Máximo 256 caracteres)\",\n    class: \"form-control sm w-100\",\n    maxlength: \"256\",\n    name: \"\",\n    id: \"\",\n    rows: \"4\",\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.candidato.comentario = $event),\n    onBlur: _cache[11] || (_cache[11] = $event => $options.validarComentario(this.candidato.comentario))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.candidato.comentario]])]), _cache[29] || (_cache[29] = _createElementVNode(\"div\", {\n    class: \"input-group-text mb-3\"\n  }, [_createElementVNode(\"span\", {\n    class: \"input-group-text custom-span ms-2 me-2\"\n  }, \"CV (PDF) \"), _createElementVNode(\"input\", {\n    type: \"file\",\n    class: \"form-control sm w-100\"\n  })], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    class: \"text-align-left\",\n    name: \"\",\n    id: \"\",\n    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.candidato.avisoLegal = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.candidato.avisoLegal]]), _cache[30] || (_cache[30] = _createTextVNode(\"He leido y acepto la \")), _createVNode(_component_router_link, {\n    to: \"/privacidad\"\n  }, {\n    default: _withCtx(() => _cache[28] || (_cache[28] = [_createTextVNode(\"Politica de privacidad\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"button\", {\n    class: \"btn btn-primary m-1\",\n    onClick: _cache[13] || (_cache[13] = _withModifiers((...args) => $options.grabarCandidato && $options.grabarCandidato(...args), [\"prevent\"])),\n    disabled: !$data.candidato.avisoLegal\n  }, \"Enviar\", 8 /* PROPS */, _hoisted_13)])]), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_14, [_cache[34] || (_cache[34] = _createElementVNode(\"h2\", {\n    class: \"mb-4\"\n  }, \"Gestionar candidatos\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"table\", _hoisted_17, [_cache[33] || (_cache[33] = _createElementVNode(\"thead\", {\n    class: \"table-info rounded-header\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    scope: \"col\",\n    class: \"w-10\"\n  }, \"Apellidos\"), _createElementVNode(\"th\", {\n    scope: \"col\",\n    class: \"w-10\"\n  }, \"Nombre\"), _createElementVNode(\"th\", {\n    scope: \"col\",\n    class: \"w-10\"\n  }, \"Móvil\"), _createElementVNode(\"th\", {\n    scope: \"col\",\n    class: \"w-10\"\n  }, \"Departamento\"), _createElementVNode(\"th\", {\n    scope: \"col\",\n    class: \"w-10 text-center\"\n  }, \"Modalidad\"), _createElementVNode(\"th\", {\n    scope: \"col\",\n    class: \"pale-yellow table-warning\"\n  }, \"Acciones\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.candidatos, candidato => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: candidato.id\n    }, [_createElementVNode(\"td\", _hoisted_18, _toDisplayString(candidato.apellidos), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_19, _toDisplayString(candidato.nombre), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_20, _toDisplayString(candidato.movil), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_21, _toDisplayString(candidato.departamento.nm), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_22, _toDisplayString(candidato.modalidad), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_23, [_createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-warning m-2\",\n      onClick: $event => $options.seleccionaCandidato(candidato)\n    }, [...(_cache[31] || (_cache[31] = [_createElementVNode(\"i\", {\n      class: \"fas fa-pencil-alt\"\n    }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_24), _createElementVNode(\"button\", {\n      class: \"btn btn-danger m-2\",\n      onClick: $event => $options.deleteCandidato(candidato.movil)\n    }, [...(_cache[32] || (_cache[32] = [_createElementVNode(\"i\", {\n      class: \"bi bi-trash\"\n    }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_25)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_hoisted_2","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_cache","_","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","type","required","placeholder","$event","$data","candidato","apellidos","nombre","_hoisted_7","email","onBlur","$options","validarEmail","movil","validarTelefono","disabled","editMovil","_hoisted_8","_hoisted_9","name","departamento","value","_renderList","departamentos","key","id","nm","_hoisted_10","_hoisted_11","modalidad","checked","for","_hoisted_12","maxlength","rows","comentario","validarComentario","avisoLegal","onClick","_withModifiers","args","grabarCandidato","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","scope","candidatos","_hoisted_18","_toDisplayString","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","seleccionaCandidato","_hoisted_24","deleteCandidato","_hoisted_25"],"sources":["/home/a23johanfav/apontejohan/src/components/TablaEmpleo.vue"],"sourcesContent":["<template>\n  <div class=\"row\">\n    <h4 class=\"mt-3 text-center front-weight-bold\"><i class=\"bi bi-people\"></i>TRABAJA CON NOSOTROS <router-link to=\"/\">\n        <button class=\"btn btn-customb\"><i class=\"bi bi-arrow-return-left \"></i></button></router-link></h4>\n  </div>\n  <br>\n  <div class=\"container-fluid border p-4\">\n    <form class=\"form-in-line\">\n      <div class=\"col-10 col-m-6 col-lg-6 mx-auto\">\n        <div class=\"input-group-text mb-3\">\n          <span class=\"input-group-text custom-span me-2\">Apellidos:</span>\n          <input type=\"text\" class=\"form-control sm w-50\" required placeholder=\"Apellidos\"\n            v-model=\"candidato.apellidos\">\n\n          <span class=\"input-group-text custom-span ms-2 me-2\">Nombre:</span>\n          <input type=\"text\" class=\"form-control sm w-50\" required placeholder=\"Nombre\" v-model=\"candidato.nombre\">\n        </div>\n        <div class=\"input-group-text mb-3\">\n          <span class=\"input-group-text custom-span ms-2 me-2\">Email: </span>\n          <input type=\"email\" class=\"form-control sm w-50\" required placeholder=\"Email\" v-model=\"candidato.email\"\n            @blur=\"validarEmail(this.candidato.email)\">\n\n          <span class=\"input-group-text custom-span ms-2 me-2\">Móvil:</span>\n          <input class=\"form-control sm w-25\" type=\"text\" required placeholder=\"Móvil\" v-model=\"candidato.movil\"\n            @blur=\"validarTelefono(this.candidato.movil)\" :disabled=\"editMovil\">\n\n\n\n        </div>\n\n        <div class=\"input-group-text mb-3\">\n          <span class=\"input-group-text custom-span ms-2 me-2\">Departamentos</span>\n          <select name=\"departamento\" class=\"form-control sm w-25 ms-2\" v-model=\"candidato.departamento\" required>\n            <option value=\"\" disabled>Departamentos</option>\n            <option v-for=\"departamento in departamentos\" :key=\"departamento.id\" :value=\"departamento\">\n              {{ departamento.nm }}\n            </option>\n          </select>\n\n          <span class=\"input-group-text custom-span ms-2 me-2\">Modalidades </span>\n          <div class=\"m-auto\">\n            <input class=\"mx-2\" type=\"radio\" name=\"modalidad\" v-model=\"candidato.modalidad\" value=\"remoto\" id=\"remoto\"\n              checked><label for=\"remoto\">Remoto</label>\n            <input class=\"mx-2\" type=\"radio\" name=\"modalidad\" v-model=\"candidato.modalidad\" value=\"hibrido\"\n              id=\"hibrido\"><label for=\"hibrido\">Hibrido</label>\n\n            <input class=\"mx-2\" type=\"radio\" name=\"modalidad\" v-model=\"candidato.modalidad\" value=\"presencial\"\n              id=\"presencial\"><label for=\"presencial\">Presencial</label>\n\n          </div>\n\n        </div>\n        <div class=\"input-group-text mb-3\">\n          <span class=\"input-group-text custom-span ms-2 me-2\" for=\"comentario\">Comentario: </span>\n          <textarea placeholder=\"Comentarios (Máximo 256 caracteres)\" class=\"form-control sm w-100\" maxlength=\"256\"\n            name=\"\" id=\"\" rows=\"4\" v-model=\"candidato.comentario\"\n            @blur=\"validarComentario(this.candidato.comentario)\"></textarea>\n\n        </div>\n        <div class=\"input-group-text mb-3\">\n\n          <span class=\"input-group-text custom-span ms-2 me-2\">CV (PDF) </span>\n          <input type=\"file\" class=\"form-control sm w-100\">\n\n        </div>\n        <input type=\"checkbox\" class=\"text-align-left\" name=\"\" id=\"\" v-model=\"candidato.avisoLegal\" required>He leido y\n        acepto la <router-link to=\"/privacidad\">Politica de privacidad</router-link>\n\n      </div>\n      <button class=\"btn btn-primary m-1\" @click.prevent=\"grabarCandidato\"\n        :disabled=\"!candidato.avisoLegal\">Enviar</button>\n    </form>\n  </div>\n\n\n  <div>\n    <div class=\"container my-5\">\n      <h2 class=\"mb-4\">Gestionar candidatos</h2>\n      <div class=\"container my-2\">\n        <div class=\"table-responsive\">\n          <table class=\"table table-striped\">\n            <thead class=\"table-info rounded-header\">\n              <tr>\n                <th scope=\"col\" class=\"w-10\">Apellidos</th>\n                <th scope=\"col\" class=\"w-10\">Nombre</th>\n                <th scope=\"col\" class=\"w-10\">Móvil</th>\n                <th scope=\"col\" class=\"w-10\">Departamento</th>\n                <th scope=\"col\" class=\"w-10 text-center\">Modalidad</th>\n                <th scope=\"col\" class=\"pale-yellow table-warning\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"candidato in candidatos\" :key=\"candidato.id\">\n                <td class=\"align-middle \">{{ candidato.apellidos }}</td>\n                <td class=\"align-middle\">{{ candidato.nombre }}</td>\n                <td class=\"align-middle\">{{ candidato.movil }}</td>\n                <td class=\"align-middle\">{{ candidato.departamento.nm }}</td>\n\n                <td class=\"align-middle\">{{ candidato.modalidad }}</td>\n                <td class=\"text-center align-middle pale-yellow table-warning\">\n                  <div>\n                    <button class=\"btn btn-warning m-2\" @click=\"seleccionaCandidato(candidato)\">\n                      <i class=\"fas fa-pencil-alt\"></i>\n                    </button>\n\n                    <button class=\"btn btn-danger m-2\" @click=\"deleteCandidato(candidato.movil)\">\n                      <i class=\"bi bi-trash\"></i>\n                    </button>\n\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport Swal from 'sweetalert2';\n\nexport default {\n  name: \"TablaEmpleo\",\n  components: {\n  },\n\n  data() {\n    return {\n      candidato: {\n        apellidos: '',\n        nombre: '',\n        email: '',\n        movil: '',\n        departamento: '',\n        modalidad: '',\n        avisoLegal: '',\n        comentario: ''\n      },\n      candidatos: [],\n      departamentos: [],\n      categorias: [],\n      editMovil: false\n    }\n  },\n\n  mounted() {\n    this.getCandidatos();\n    this.getDepartamentos();\n  },\n\n  methods: {\n\n    async seleccionaCandidato(candidato) {\n      try {\n        this.limpiarFormulario()\n        const response = await fetch('http://localhost:3000/candidatos');\n        if (!response.ok) {\n          throw new Error('Error en la solicitud: ' + response.statusText);\n        }\n        const candidatos = await response.json();\n\n        // Encontrar el candidato por su DNI\n        const candidatoEncontrado = candidatos.find(c => c.movil === candidato.movil);\n\n\n        if (candidatoEncontrado) {\n          this.candidato = { ...candidatoEncontrado };\n        } else {\n          this.mostrarAlerta('Error', 'candidato no encontrado en el servidor.', 'error');\n        }\n      } catch (error) {\n        console.error(error);\n        this.mostrarAlerta('Error', 'No se pudo cargar el candidato desde el servidor.', 'error');\n      }\n    },\n\n    validarTelefono(telefono) {\n      if (telefono == '') {\n        this.mostrarAlerta('Error', 'El teléfono con formato no valido', 'error');\n      }\n      const regex = /^[67]\\d{8}$/;\n      if (!regex.test(telefono)) {\n        this.mostrarAlerta('Error', 'El teléfono con formato no valido', 'error')\n      }\n    },\n\n    validarEmail(email) {\n      if (email == '') {\n        this.mostrarAlerta('Error', 'El email con formato no valido', 'error');\n      }\n      const regex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n      if (!regex.test(email)) {\n        this.mostrarAlerta('Error', 'El email con formato no valido', 'error')\n      }\n    },\n\n    validarComentario(comentario) {\n      if (comentario.length > 256) {\n        this.mostrarAlerta('Error', 'el comentario no puede sobre pasar 256 caracteres', 'error')\n      }\n    },\n    mostrarAlerta(titulo, mensaje, icono) {\n      Swal.fire({\n        title: titulo,\n        text: mensaje,\n        icon: icono,\n        customClass: {\n          container: 'custom-alert-container',\n          popup: 'custom-alert-popup',\n          modal: 'custom-alert-modal'\n        }\n      })\n    },\n\n    limpiarFormulario() {\n      this.candidato = {\n        apellidos: '',\n        nombre: '',\n        email: '',\n        movil: '',\n        departamento: '',\n        modalidad: '',\n        avisoLegal: '',\n        comentario: ''\n      }\n    },\n\n    async grabarCandidato() {\n      // Verificar si los campos requeridos están llenos\n      if (this.candidato.apellidos && this.candidato.nombre && this.candidato.email && this.candidato.movil && this.candidato.apellidos\n       && this.candidato.nombre && this.candidato.departamento && this.candidato.modalidad && this.candidato.avisoLegal==true) {\n        try {\n          if (this.candidato.avisoLegal){\n            this.candidato.avisoLegal = \"si\";\n          }\n\n          const response = await fetch('http://localhost:3000/candidatos');\n          if (!response.ok) {\n            throw new Error('Error al obtener los candidatos: ' + response.statusText);\n          }\n\n          const candidatosExistentes = await response.json();\n\n          let candidatoExistente = candidatosExistentes.find(candidato => candidato.movil === this.candidato.movil);\n\n          if (candidatoExistente) {\n            candidatoExistente = this.candidato;\n            \n            const actualizarResponse = await fetch(`http://localhost:3000/candidatos/${candidatoExistente.id}`, {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n\n              body: JSON.stringify(candidatoExistente),\n            });\n\n            if (!actualizarResponse.ok) {\n              throw new Error('Error al actualizar el candidato: ' + actualizarResponse.statusText);\n            }\n\n            this.mostrarAlerta('Aviso', 'Candidato reactivado correctamente', 'success');\n            this.getCandidatos();\n          } \n          \n          else {\n            const crearResponse = await fetch('http://localhost:3000/candidatos', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              body: JSON.stringify(this.candidato),\n            });\n\n            if (!crearResponse.ok) {\n              throw new Error('Error al guardar el candidato ' + crearResponse.statusText);\n            }\n\n            const nuevoCandidato = await crearResponse.json();\n            this.candidatos.push(nuevoCandidato);\n            this.mostrarAlerta('Aviso', 'Candidato grabado correctamente', 'success');\n            this.limpiarFormulario();\n          }\n        } catch (error) {\n          console.error(error);\n          this.mostrarAlerta('Error', 'No se pudo grabar el candidato.', 'error');\n        }\n      } else if (this.candidato.avisoLegal == false) {\n        this.mostrarAlerta('Error', 'Por favor, acepta las Políticas de Privacidad.', 'error');\n      }   \n      else {\n        this.mostrarAlerta('Error', 'Por favor, completa todos los campos requeridos.', 'error');\n      }\n    },\n\n    async getDepartamentos() {\n      try {\n        const response = await fetch('http://localhost:3000/departamentos');\n        if (!response.ok) {\n          throw new Error('Error en la solicitud:' + response.statusText);\n        }\n        this.departamentos = await response.json();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async getCandidatos() {\n      try {\n        const response = await fetch('http://localhost:3000/candidatos');\n        if (!response.ok) {\n          throw new Error('Error en la solicitud:' + response.statusText);\n        }\n        this.candidatos = (await response.json()).sort((a, b) => a.apellidos.localeCompare(b.apellidos) || a.nombre.localeCompare(b.nombre));\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async deleteCandidato(movil) {\n      const resultado = await Swal.fire({\n        title: '¿Estás seguro?',\n        text: '¿Deseas eliminar el candidato?',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Sí, eliminar',\n        cancelButtonText: 'No, cancelar',\n        cancelButtonColor: '#d33',\n        confirmButtonColor: '#3085d6',\n      })\n\n      if (resultado.isConfirmed) {\n        try {\n\n          const response = await fetch(\"http://localhost:3000/candidatos\");\n          if (!response.ok) {\n            throw new Error(\"Error en la solicitud: \" + response.statusText);\n          }\n\n          const candidatos = await response.json();\n          const candidatoExistente = candidatos.find(candidato => candidato.movil === movil);\n\n          if (candidatoExistente) {\n\n            await fetch(`http://localhost:3000/candidatos/${candidatoExistente.id}`, { // URL interpolada correctamente\n              method: \"DELETE\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n              },\n            });\n\n            this.mostrarAlerta(\"Aviso\", \"candidato dado de baja correctamente\", \"success\");\n            this.getCandidatos(); // Actualizar lista de candidatos\n\n          } else {\n            this.mostrarAlerta(\"Error\", \"candidato no encontrado\", \"error\");\n          }\n        } catch (error) {\n          console.error(error);\n          this.mostrarAlerta(\"Error\", \"No se pudo dar de baja al candidato\", \"error\");\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style></style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}